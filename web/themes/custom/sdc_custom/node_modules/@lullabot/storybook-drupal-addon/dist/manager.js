'use strict';

var managerApi = require('@storybook/manager-api');
var p = require('react');
var components = require('@storybook/components');
var previewApi = require('@storybook/preview-api');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var p__default = /*#__PURE__*/_interopDefault(p);

var l="storybook/drupal-addon",r=`${l}/tool`,m="THEME_CHANGED";var D=t=>typeof t=="string"?{title:t}:{title:t.title||""},g=(t,i,n)=>t?Object.entries(t).map(([e,o])=>({...D(o),id:e,active:e===i,onClick:()=>n(e)})):[{id:"none",title:"No themes in parameters",active:!0,onClick:()=>{}}],a=()=>{let[{drupalTheme:t,supportedDrupalThemes:i},n]=managerApi.useGlobals();return p__default.default.createElement(components.WithTooltip,{placement:"top",trigger:"click",tooltip:({onHide:e})=>p__default.default.createElement(components.TooltipLinkList,{links:g(i,t,o=>{o!==t&&(n({drupalTheme:o}),previewApi.addons.getChannel().emit(m,o)),e();})})},p__default.default.createElement(components.IconButton,{key:r,active:t,title:"Select Drupal Theme"},"\u{1F4A7} Drupal Theme"))};managerApi.addons.register(l,()=>{managerApi.addons.add(r,{type:managerApi.types.TOOL,title:"Drupal Theme",match:({viewMode:t})=>!!(t&&t.match(/^(story|docs)$/)),render:a});});
//# sourceMappingURL=out.js.map
//# sourceMappingURL=manager.js.map